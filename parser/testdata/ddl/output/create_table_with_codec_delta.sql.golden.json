[
  {
    "CreatePos": 0,
    "StatementEnd": 827,
    "OrReplace": false,
    "Name": {
      "Database": null,
      "Table": {
        "Name": "test_local",
        "QuoteType": 1,
        "NamePos": 27,
        "NameEnd": 37
      }
    },
    "IfNotExists": true,
    "UUID": null,
    "OnCluster": null,
    "TableSchema": {
      "SchemaPos": 39,
      "SchemaEnd": 385,
      "Columns": [
        {
          "NamePos": 44,
          "ColumnEnd": 76,
          "Name": {
            "Ident": {
              "Name": "id",
              "QuoteType": 3,
              "NamePos": 44,
              "NameEnd": 46
            },
            "DotIdent": null
          },
          "Type": {
            "Name": {
              "Name": "UInt64",
              "QuoteType": 1,
              "NamePos": 48,
              "NameEnd": 54
            }
          },
          "NotNull": null,
          "Nullable": null,
          "DefaultExpr": null,
          "MaterializedExpr": null,
          "AliasExpr": null,
          "Codec": {
            "CodecPos": 55,
            "RightParenPos": 76,
            "Type": {
              "Name": "Delta",
              "QuoteType": 1,
              "NamePos": 61,
              "NameEnd": 66
            },
            "TypeLevel": null,
            "Name": {
              "Name": "ZSTD",
              "QuoteType": 1,
              "NamePos": 68,
              "NameEnd": 72
            },
            "Level": {
              "NumPos": 72,
              "NumEnd": 74,
              "Literal": "1",
              "Base": 10
            }
          },
          "TTL": null,
          "Comment": null,
          "CompressionCodec": null
        },
        {
          "NamePos": 81,
          "ColumnEnd": 110,
          "Name": {
            "Ident": {
              "Name": "api_id",
              "QuoteType": 3,
              "NamePos": 81,
              "NameEnd": 87
            },
            "DotIdent": null
          },
          "Type": {
            "Name": {
              "Name": "UInt64",
              "QuoteType": 1,
              "NamePos": 89,
              "NameEnd": 95
            }
          },
          "NotNull": null,
          "Nullable": null,
          "DefaultExpr": null,
          "MaterializedExpr": null,
          "AliasExpr": null,
          "Codec": {
            "CodecPos": 96,
            "RightParenPos": 110,
            "Type": null,
            "TypeLevel": null,
            "Name": {
              "Name": "ZSTD",
              "QuoteType": 1,
              "NamePos": 102,
              "NameEnd": 106
            },
            "Level": {
              "NumPos": 106,
              "NumEnd": 108,
              "Literal": "1",
              "Base": 10
            }
          },
          "TTL": null,
          "Comment": null,
          "CompressionCodec": null
        },
        {
          "NamePos": 115,
          "ColumnEnd": 154,
          "Name": {
            "Ident": {
              "Name": "app_id",
              "QuoteType": 3,
              "NamePos": 115,
              "NameEnd": 121
            },
            "DotIdent": null
          },
          "Type": {
            "Name": {
              "Name": "UInt64",
              "QuoteType": 1,
              "NamePos": 123,
              "NameEnd": 129
            }
          },
          "NotNull": null,
          "Nullable": null,
          "DefaultExpr": null,
          "MaterializedExpr": null,
          "AliasExpr": null,
          "Codec": {
            "CodecPos": 130,
            "RightParenPos": 154,
            "Type": {
              "Name": "Delta",
              "QuoteType": 1,
              "NamePos": 136,
              "NameEnd": 141
            },
            "TypeLevel": {
              "NumPos": 141,
              "NumEnd": 143,
              "Literal": "9",
              "Base": 10
            },
            "Name": {
              "Name": "ZSTD",
              "QuoteType": 1,
              "NamePos": 146,
              "NameEnd": 150
            },
            "Level": {
              "NumPos": 150,
              "NumEnd": 152,
              "Literal": "1",
              "Base": 10
            }
          },
          "TTL": null,
          "Comment": null,
          "CompressionCodec": null
        },
        {
          "NamePos": 159,
          "ColumnEnd": 204,
          "Name": {
            "Ident": {
              "Name": "device_id",
              "QuoteType": 3,
              "NamePos": 159,
              "NameEnd": 168
            },
            "DotIdent": null
          },
          "Type": {
            "Name": {
              "Name": "UInt64",
              "QuoteType": 1,
              "NamePos": 170,
              "NameEnd": 176
            }
          },
          "NotNull": null,
          "Nullable": null,
          "DefaultExpr": null,
          "MaterializedExpr": null,
          "AliasExpr": null,
          "Codec": {
            "CodecPos": 177,
            "RightParenPos": 204,
            "Type": {
              "Name": "DoubleDelta",
              "QuoteType": 1,
              "NamePos": 183,
              "NameEnd": 194
            },
            "TypeLevel": null,
            "Name": {
              "Name": "ZSTD",
              "QuoteType": 1,
              "NamePos": 196,
              "NameEnd": 200
            },
            "Level": {
              "NumPos": 200,
              "NumEnd": 202,
              "Literal": "1",
              "Base": 10
            }
          },
          "TTL": null,
          "Comment": null,
          "CompressionCodec": null
        },
        {
          "NamePos": 209,
          "ColumnEnd": 243,
          "Name": {
            "Ident": {
              "Name": "guage",
              "QuoteType": 3,
              "NamePos": 209,
              "NameEnd": 214
            },
            "DotIdent": null
          },
          "Type": {
            "Name": {
              "Name": "Float64",
              "QuoteType": 1,
              "NamePos": 216,
              "NameEnd": 223
            }
          },
          "NotNull": null,
          "Nullable": null,
          "DefaultExpr": null,
          "MaterializedExpr": null,
          "AliasExpr": null,
          "Codec": {
            "CodecPos": 224,
            "RightParenPos": 243,
            "Type": {
              "Name": "Gorilla",
              "QuoteType": 1,
              "NamePos": 230,
              "NameEnd": 237
            },
            "TypeLevel": null,
            "Name": {
              "Name": "LZ4",
              "QuoteType": 1,
              "NamePos": 239,
              "NameEnd": 242
            },
            "Level": null
          },
          "TTL": null,
          "Comment": null,
          "CompressionCodec": null
        },
        {
          "NamePos": 248,
          "ColumnEnd": 277,
          "Name": {
            "Ident": {
              "Name": "value",
              "QuoteType": 3,
              "NamePos": 248,
              "NameEnd": 253
            },
            "DotIdent": null
          },
          "Type": {
            "Name": {
              "Name": "UInt64",
              "QuoteType": 1,
              "NamePos": 255,
              "NameEnd": 261
            }
          },
          "NotNull": null,
          "Nullable": null,
          "DefaultExpr": null,
          "MaterializedExpr": null,
          "AliasExpr": null,
          "Codec": {
            "CodecPos": 262,
            "RightParenPos": 277,
            "Type": {
              "Name": "T64",
              "QuoteType": 1,
              "NamePos": 268,
              "NameEnd": 271
            },
            "TypeLevel": null,
            "Name": {
              "Name": "LZ4",
              "QuoteType": 1,
              "NamePos": 273,
              "NameEnd": 276
            },
            "Level": null
          },
          "TTL": null,
          "Comment": null,
          "CompressionCodec": null
        },
        {
          "NamePos": 282,
          "ColumnEnd": 321,
          "Name": {
            "Ident": {
              "Name": "timestamp",
              "QuoteType": 3,
              "NamePos": 282,
              "NameEnd": 291
            },
            "DotIdent": null
          },
          "Type": {
            "LeftParenPos": 304,
            "RightParenPos": 305,
            "Name": {
              "Name": "DateTime64",
              "QuoteType": 1,
              "NamePos": 293,
              "NameEnd": 303
            },
            "Params": [
              {
                "NumPos": 304,
                "NumEnd": 305,
                "Literal": "9",
                "Base": 10
              }
            ]
          },
          "NotNull": null,
          "Nullable": null,
          "DefaultExpr": null,
          "MaterializedExpr": null,
          "AliasExpr": null,
          "Codec": {
            "CodecPos": 307,
            "RightParenPos": 321,
            "Type": null,
            "TypeLevel": null,
            "Name": {
              "Name": "ZSTD",
              "QuoteType": 1,
              "NamePos": 313,
              "NameEnd": 317
            },
            "Level": {
              "NumPos": 317,
              "NumEnd": 319,
              "Literal": "1",
              "Base": 10
            }
          },
          "TTL": null,
          "Comment": null,
          "CompressionCodec": null
        },
        {
          "IndexPos": 325,
          "Name": {
            "Ident": {
              "Name": "timestamp_index",
              "QuoteType": 1,
              "NamePos": 331,
              "NameEnd": 346
            },
            "DotIdent": null
          },
          "ColumnExpr": {
            "Expr": {
              "LeftParenPos": 346,
              "RightParenPos": 356,
              "Items": {
                "ListPos": 347,
                "ListEnd": 356,
                "HasDistinct": false,
                "Items": [
                  {
                    "Expr": {
                      "Name": "timestamp",
                      "QuoteType": 1,
                      "NamePos": 347,
                      "NameEnd": 356
                    },
                    "Alias": null
                  }
                ]
              },
              "ColumnArgList": null
            },
            "Alias": null
          },
          "ColumnType": {
            "Name": {
              "Name": "minmax",
              "QuoteType": 1,
              "NamePos": 363,
              "NameEnd": 369
            }
          },
          "Granularity": {
            "NumPos": 382,
            "NumEnd": 383,
            "Literal": "4",
            "Base": 10
          }
        }
      ],
      "AliasTable": null,
      "TableFunction": null
    },
    "Engine": {
      "EnginePos": 388,
      "EngineEnd": 827,
      "Name": "ReplicatedMergeTree",
      "Params": {
        "LeftParenPos": 416,
        "RightParenPos": 448,
        "Items": {
          "ListPos": 418,
          "ListEnd": 447,
          "HasDistinct": false,
          "Items": [
            {
              "Expr": {
                "LiteralPos": 418,
                "LiteralEnd": 434,
                "Literal": "/root/test_local"
              },
              "Alias": null
            },
            {
              "Expr": {
                "LiteralPos": 438,
                "LiteralEnd": 447,
                "Literal": "{replica}"
              },
              "Alias": null
            }
          ]
        },
        "ColumnArgList": null
      },
      "PrimaryKey": null,
      "PartitionBy": {
        "PartitionPos": 451,
        "Expr": {
          "ListPos": 464,
          "ListEnd": 489,
          "HasDistinct": false,
          "Items": [
            {
              "Expr": {
                "Name": {
                  "Name": "toStartOfHour",
                  "QuoteType": 1,
                  "NamePos": 464,
                  "NameEnd": 477
                },
                "Params": {
                  "LeftParenPos": 477,
                  "RightParenPos": 489,
                  "Items": {
                    "ListPos": 479,
                    "ListEnd": 488,
                    "HasDistinct": false,
                    "Items": [
                      {
                        "Expr": {
                          "Name": "timestamp",
                          "QuoteType": 3,
                          "NamePos": 479,
                          "NameEnd": 488
                        },
                        "Alias": null
                      }
                    ]
                  },
                  "ColumnArgList": null
                }
              },
              "Alias": null
            }
          ]
        }
      },
      "SampleBy": null,
      "TTL": {
        "TTLPos": 549,
        "ListEnd": 640,
        "Items": [
          {
            "TTLPos": 549,
            "Expr": {
              "LeftExpr": {
                "Name": {
                  "Name": "toStartOfHour",
                  "QuoteType": 1,
                  "NamePos": 553,
                  "NameEnd": 566
                },
                "Params": {
                  "LeftParenPos": 566,
                  "RightParenPos": 578,
                  "Items": {
                    "ListPos": 568,
                    "ListEnd": 577,
                    "HasDistinct": false,
                    "Items": [
                      {
                        "Expr": {
                          "Name": "timestamp",
                          "QuoteType": 3,
                          "NamePos": 568,
                          "NameEnd": 577
                        },
                        "Alias": null
                      }
                    ]
                  },
                  "ColumnArgList": null
                }
              },
              "Operation": "+",
              "RightExpr": {
                "IntervalPos": 582,
                "Expr": {
                  "NumPos": 591,
                  "NumEnd": 592,
                  "Literal": "7",
                  "Base": 10
                },
                "Unit": {
                  "Name": "DAY",
                  "QuoteType": 1,
                  "NamePos": 593,
                  "NameEnd": 596
                }
              },
              "HasGlobal": false,
              "HasNot": false
            },
            "Policy": null
          },
          {
            "TTLPos": 549,
            "Expr": {
              "LeftExpr": {
                "Name": {
                  "Name": "toStartOfHour",
                  "QuoteType": 1,
                  "NamePos": 597,
                  "NameEnd": 610
                },
                "Params": {
                  "LeftParenPos": 610,
                  "RightParenPos": 622,
                  "Items": {
                    "ListPos": 612,
                    "ListEnd": 621,
                    "HasDistinct": false,
                    "Items": [
                      {
                        "Expr": {
                          "Name": "timestamp",
                          "QuoteType": 3,
                          "NamePos": 612,
                          "NameEnd": 621
                        },
                        "Alias": null
                      }
                    ]
                  },
                  "ColumnArgList": null
                }
              },
              "Operation": "+",
              "RightExpr": {
                "IntervalPos": 626,
                "Expr": {
                  "NumPos": 635,
                  "NumEnd": 636,
                  "Literal": "2",
                  "Base": 10
                },
                "Unit": {
                  "Name": "DAY",
                  "QuoteType": 1,
                  "NamePos": 637,
                  "NameEnd": 640
                }
              },
              "HasGlobal": false,
              "HasNot": false
            },
            "Policy": null
          }
        ]
      },
      "Settings": {
        "SettingsPos": 642,
        "ListEnd": 827,
        "Items": [
          {
            "SettingsPos": 651,
            "Name": {
              "Name": "execute_merges_on_single_replica_time_threshold",
              "QuoteType": 1,
              "NamePos": 651,
              "NameEnd": 698
            },
            "Expr": {
              "NumPos": 699,
              "NumEnd": 703,
              "Literal": "1200",
              "Base": 10
            }
          },
          {
            "SettingsPos": 705,
            "Name": {
              "Name": "index_granularity",
              "QuoteType": 1,
              "NamePos": 705,
              "NameEnd": 722
            },
            "Expr": {
              "NumPos": 723,
              "NumEnd": 728,
              "Literal": "16384",
              "Base": 10
            }
          },
          {
            "SettingsPos": 730,
            "Name": {
              "Name": "max_bytes_to_merge_at_max_space_in_pool",
              "QuoteType": 1,
              "NamePos": 730,
              "NameEnd": 769
            },
            "Expr": {
              "NumPos": 770,
              "NumEnd": 781,
              "Literal": "64424509440",
              "Base": 10
            }
          },
          {
            "SettingsPos": 783,
            "Name": {
              "Name": "storage_policy",
              "QuoteType": 1,
              "NamePos": 783,
              "NameEnd": 797
            },
            "Expr": {
              "LiteralPos": 799,
              "LiteralEnd": 803,
              "Literal": "main"
            }
          },
          {
            "SettingsPos": 806,
            "Name": {
              "Name": "ttl_only_drop_parts",
              "QuoteType": 1,
              "NamePos": 806,
              "NameEnd": 825
            },
            "Expr": {
              "NumPos": 826,
              "NumEnd": 827,
              "Literal": "1",
              "Base": 10
            }
          }
        ]
      },
      "OrderBy": {
        "OrderPos": 492,
        "ListEnd": 546,
        "Items": [
          {
            "OrderPos": 492,
            "Expr": {
              "LeftParenPos": 501,
              "RightParenPos": 546,
              "Items": {
                "ListPos": 502,
                "ListEnd": 545,
                "HasDistinct": false,
                "Items": [
                  {
                    "Expr": {
                      "Name": {
                        "Name": "toUnixTimestamp64Nano",
                        "QuoteType": 1,
                        "NamePos": 502,
                        "NameEnd": 523
                      },
                      "Params": {
                        "LeftParenPos": 523,
                        "RightParenPos": 535,
                        "Items": {
                          "ListPos": 525,
                          "ListEnd": 534,
                          "HasDistinct": false,
                          "Items": [
                            {
                              "Expr": {
                                "Name": "timestamp",
                                "QuoteType": 3,
                                "NamePos": 525,
                                "NameEnd": 534
                              },
                              "Alias": null
                            }
                          ]
                        },
                        "ColumnArgList": null
                      }
                    },
                    "Alias": null
                  },
                  {
                    "Expr": {
                      "Name": "api_id",
                      "QuoteType": 3,
                      "NamePos": 539,
                      "NameEnd": 545
                    },
                    "Alias": null
                  }
                ]
              },
              "ColumnArgList": null
            },
            "Alias": null,
            "Direction": ""
          }
        ]
      }
    },
    "SubQuery": null,
    "HasTemporary": false,
    "Comment": null
  }
]
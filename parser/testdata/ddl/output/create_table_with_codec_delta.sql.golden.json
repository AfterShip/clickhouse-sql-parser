[
  {
    "CreatePos": 0,
    "StatementEnd": 812,
    "OrReplace": false,
    "Name": {
      "Database": null,
      "Table": {
        "Name": "test_local",
        "QuoteType": 1,
        "NamePos": 27,
        "NameEnd": 37
      }
    },
    "IfNotExists": true,
    "UUID": null,
    "OnCluster": null,
    "TableSchema": {
      "SchemaPos": 38,
      "SchemaEnd": 375,
      "Columns": [
        {
          "NamePos": 42,
          "ColumnEnd": 74,
          "Name": {
            "Ident": {
              "Name": "id",
              "QuoteType": 3,
              "NamePos": 42,
              "NameEnd": 44
            },
            "DotIdent": null
          },
          "Type": {
            "Name": {
              "Name": "UInt64",
              "QuoteType": 1,
              "NamePos": 46,
              "NameEnd": 52
            }
          },
          "NotNull": null,
          "Nullable": null,
          "DefaultExpr": null,
          "MaterializedExpr": null,
          "AliasExpr": null,
          "Codec": {
            "CodecPos": 53,
            "RightParenPos": 74,
            "Type": {
              "Name": "Delta",
              "QuoteType": 1,
              "NamePos": 59,
              "NameEnd": 64
            },
            "TypeLevel": null,
            "Name": {
              "Name": "ZSTD",
              "QuoteType": 1,
              "NamePos": 66,
              "NameEnd": 70
            },
            "Level": {
              "NumPos": 70,
              "NumEnd": 72,
              "Literal": "1",
              "Base": 10
            }
          },
          "TTL": null,
          "Comment": null,
          "CompressionCodec": null
        },
        {
          "NamePos": 78,
          "ColumnEnd": 107,
          "Name": {
            "Ident": {
              "Name": "api_id",
              "QuoteType": 3,
              "NamePos": 78,
              "NameEnd": 84
            },
            "DotIdent": null
          },
          "Type": {
            "Name": {
              "Name": "UInt64",
              "QuoteType": 1,
              "NamePos": 86,
              "NameEnd": 92
            }
          },
          "NotNull": null,
          "Nullable": null,
          "DefaultExpr": null,
          "MaterializedExpr": null,
          "AliasExpr": null,
          "Codec": {
            "CodecPos": 93,
            "RightParenPos": 107,
            "Type": null,
            "TypeLevel": null,
            "Name": {
              "Name": "ZSTD",
              "QuoteType": 1,
              "NamePos": 99,
              "NameEnd": 103
            },
            "Level": {
              "NumPos": 103,
              "NumEnd": 105,
              "Literal": "1",
              "Base": 10
            }
          },
          "TTL": null,
          "Comment": null,
          "CompressionCodec": null
        },
        {
          "NamePos": 111,
          "ColumnEnd": 150,
          "Name": {
            "Ident": {
              "Name": "app_id",
              "QuoteType": 3,
              "NamePos": 111,
              "NameEnd": 117
            },
            "DotIdent": null
          },
          "Type": {
            "Name": {
              "Name": "UInt64",
              "QuoteType": 1,
              "NamePos": 119,
              "NameEnd": 125
            }
          },
          "NotNull": null,
          "Nullable": null,
          "DefaultExpr": null,
          "MaterializedExpr": null,
          "AliasExpr": null,
          "Codec": {
            "CodecPos": 126,
            "RightParenPos": 150,
            "Type": {
              "Name": "Delta",
              "QuoteType": 1,
              "NamePos": 132,
              "NameEnd": 137
            },
            "TypeLevel": {
              "NumPos": 137,
              "NumEnd": 139,
              "Literal": "9",
              "Base": 10
            },
            "Name": {
              "Name": "ZSTD",
              "QuoteType": 1,
              "NamePos": 142,
              "NameEnd": 146
            },
            "Level": {
              "NumPos": 146,
              "NumEnd": 148,
              "Literal": "1",
              "Base": 10
            }
          },
          "TTL": null,
          "Comment": null,
          "CompressionCodec": null
        },
        {
          "NamePos": 154,
          "ColumnEnd": 199,
          "Name": {
            "Ident": {
              "Name": "device_id",
              "QuoteType": 3,
              "NamePos": 154,
              "NameEnd": 163
            },
            "DotIdent": null
          },
          "Type": {
            "Name": {
              "Name": "UInt64",
              "QuoteType": 1,
              "NamePos": 165,
              "NameEnd": 171
            }
          },
          "NotNull": null,
          "Nullable": null,
          "DefaultExpr": null,
          "MaterializedExpr": null,
          "AliasExpr": null,
          "Codec": {
            "CodecPos": 172,
            "RightParenPos": 199,
            "Type": {
              "Name": "DoubleDelta",
              "QuoteType": 1,
              "NamePos": 178,
              "NameEnd": 189
            },
            "TypeLevel": null,
            "Name": {
              "Name": "ZSTD",
              "QuoteType": 1,
              "NamePos": 191,
              "NameEnd": 195
            },
            "Level": {
              "NumPos": 195,
              "NumEnd": 197,
              "Literal": "1",
              "Base": 10
            }
          },
          "TTL": null,
          "Comment": null,
          "CompressionCodec": null
        },
        {
          "NamePos": 203,
          "ColumnEnd": 237,
          "Name": {
            "Ident": {
              "Name": "guage",
              "QuoteType": 3,
              "NamePos": 203,
              "NameEnd": 208
            },
            "DotIdent": null
          },
          "Type": {
            "Name": {
              "Name": "Float64",
              "QuoteType": 1,
              "NamePos": 210,
              "NameEnd": 217
            }
          },
          "NotNull": null,
          "Nullable": null,
          "DefaultExpr": null,
          "MaterializedExpr": null,
          "AliasExpr": null,
          "Codec": {
            "CodecPos": 218,
            "RightParenPos": 237,
            "Type": {
              "Name": "Gorilla",
              "QuoteType": 1,
              "NamePos": 224,
              "NameEnd": 231
            },
            "TypeLevel": null,
            "Name": {
              "Name": "LZ4",
              "QuoteType": 1,
              "NamePos": 233,
              "NameEnd": 236
            },
            "Level": null
          },
          "TTL": null,
          "Comment": null,
          "CompressionCodec": null
        },
        {
          "NamePos": 241,
          "ColumnEnd": 270,
          "Name": {
            "Ident": {
              "Name": "value",
              "QuoteType": 3,
              "NamePos": 241,
              "NameEnd": 246
            },
            "DotIdent": null
          },
          "Type": {
            "Name": {
              "Name": "UInt64",
              "QuoteType": 1,
              "NamePos": 248,
              "NameEnd": 254
            }
          },
          "NotNull": null,
          "Nullable": null,
          "DefaultExpr": null,
          "MaterializedExpr": null,
          "AliasExpr": null,
          "Codec": {
            "CodecPos": 255,
            "RightParenPos": 270,
            "Type": {
              "Name": "T64",
              "QuoteType": 1,
              "NamePos": 261,
              "NameEnd": 264
            },
            "TypeLevel": null,
            "Name": {
              "Name": "LZ4",
              "QuoteType": 1,
              "NamePos": 266,
              "NameEnd": 269
            },
            "Level": null
          },
          "TTL": null,
          "Comment": null,
          "CompressionCodec": null
        },
        {
          "NamePos": 274,
          "ColumnEnd": 313,
          "Name": {
            "Ident": {
              "Name": "timestamp",
              "QuoteType": 3,
              "NamePos": 274,
              "NameEnd": 283
            },
            "DotIdent": null
          },
          "Type": {
            "LeftParenPos": 296,
            "RightParenPos": 297,
            "Name": {
              "Name": "DateTime64",
              "QuoteType": 1,
              "NamePos": 285,
              "NameEnd": 295
            },
            "Params": [
              {
                "NumPos": 296,
                "NumEnd": 297,
                "Literal": "9",
                "Base": 10
              }
            ]
          },
          "NotNull": null,
          "Nullable": null,
          "DefaultExpr": null,
          "MaterializedExpr": null,
          "AliasExpr": null,
          "Codec": {
            "CodecPos": 299,
            "RightParenPos": 313,
            "Type": null,
            "TypeLevel": null,
            "Name": {
              "Name": "ZSTD",
              "QuoteType": 1,
              "NamePos": 305,
              "NameEnd": 309
            },
            "Level": {
              "NumPos": 309,
              "NumEnd": 311,
              "Literal": "1",
              "Base": 10
            }
          },
          "TTL": null,
          "Comment": null,
          "CompressionCodec": null
        },
        {
          "IndexPos": 316,
          "Name": {
            "Ident": {
              "Name": "timestamp_index",
              "QuoteType": 1,
              "NamePos": 322,
              "NameEnd": 337
            },
            "DotIdent": null
          },
          "ColumnExpr": {
            "Expr": {
              "LeftParenPos": 337,
              "RightParenPos": 347,
              "Items": {
                "ListPos": 338,
                "ListEnd": 347,
                "HasDistinct": false,
                "Items": [
                  {
                    "Expr": {
                      "Name": "timestamp",
                      "QuoteType": 1,
                      "NamePos": 338,
                      "NameEnd": 347
                    },
                    "Alias": null
                  }
                ]
              },
              "ColumnArgList": null
            },
            "Alias": null
          },
          "ColumnType": {
            "Name": {
              "Name": "minmax",
              "QuoteType": 1,
              "NamePos": 354,
              "NameEnd": 360
            }
          },
          "Granularity": {
            "NumPos": 373,
            "NumEnd": 374,
            "Literal": "4",
            "Base": 10
          }
        }
      ],
      "AliasTable": null,
      "TableFunction": null
    },
    "Engine": {
      "EnginePos": 377,
      "EngineEnd": 812,
      "Name": "ReplicatedMergeTree",
      "Params": {
        "LeftParenPos": 405,
        "RightParenPos": 437,
        "Items": {
          "ListPos": 407,
          "ListEnd": 436,
          "HasDistinct": false,
          "Items": [
            {
              "Expr": {
                "LiteralPos": 407,
                "LiteralEnd": 423,
                "Literal": "/root/test_local"
              },
              "Alias": null
            },
            {
              "Expr": {
                "LiteralPos": 427,
                "LiteralEnd": 436,
                "Literal": "{replica}"
              },
              "Alias": null
            }
          ]
        },
        "ColumnArgList": null
      },
      "PrimaryKey": null,
      "PartitionBy": {
        "PartitionPos": 439,
        "Expr": {
          "ListPos": 452,
          "ListEnd": 477,
          "HasDistinct": false,
          "Items": [
            {
              "Expr": {
                "Name": {
                  "Name": "toStartOfHour",
                  "QuoteType": 1,
                  "NamePos": 452,
                  "NameEnd": 465
                },
                "Params": {
                  "LeftParenPos": 465,
                  "RightParenPos": 477,
                  "Items": {
                    "ListPos": 467,
                    "ListEnd": 476,
                    "HasDistinct": false,
                    "Items": [
                      {
                        "Expr": {
                          "Name": "timestamp",
                          "QuoteType": 3,
                          "NamePos": 467,
                          "NameEnd": 476
                        },
                        "Alias": null
                      }
                    ]
                  },
                  "ColumnArgList": null
                }
              },
              "Alias": null
            }
          ]
        }
      },
      "SampleBy": null,
      "TTL": {
        "TTLPos": 535,
        "ListEnd": 626,
        "Items": [
          {
            "TTLPos": 535,
            "Expr": {
              "LeftExpr": {
                "Name": {
                  "Name": "toStartOfHour",
                  "QuoteType": 1,
                  "NamePos": 539,
                  "NameEnd": 552
                },
                "Params": {
                  "LeftParenPos": 552,
                  "RightParenPos": 564,
                  "Items": {
                    "ListPos": 554,
                    "ListEnd": 563,
                    "HasDistinct": false,
                    "Items": [
                      {
                        "Expr": {
                          "Name": "timestamp",
                          "QuoteType": 3,
                          "NamePos": 554,
                          "NameEnd": 563
                        },
                        "Alias": null
                      }
                    ]
                  },
                  "ColumnArgList": null
                }
              },
              "Operation": "+",
              "RightExpr": {
                "IntervalPos": 568,
                "Expr": {
                  "NumPos": 577,
                  "NumEnd": 578,
                  "Literal": "7",
                  "Base": 10
                },
                "Unit": {
                  "Name": "DAY",
                  "QuoteType": 1,
                  "NamePos": 579,
                  "NameEnd": 582
                }
              },
              "HasGlobal": false,
              "HasNot": false
            },
            "Policy": null
          },
          {
            "TTLPos": 535,
            "Expr": {
              "LeftExpr": {
                "Name": {
                  "Name": "toStartOfHour",
                  "QuoteType": 1,
                  "NamePos": 583,
                  "NameEnd": 596
                },
                "Params": {
                  "LeftParenPos": 596,
                  "RightParenPos": 608,
                  "Items": {
                    "ListPos": 598,
                    "ListEnd": 607,
                    "HasDistinct": false,
                    "Items": [
                      {
                        "Expr": {
                          "Name": "timestamp",
                          "QuoteType": 3,
                          "NamePos": 598,
                          "NameEnd": 607
                        },
                        "Alias": null
                      }
                    ]
                  },
                  "ColumnArgList": null
                }
              },
              "Operation": "+",
              "RightExpr": {
                "IntervalPos": 612,
                "Expr": {
                  "NumPos": 621,
                  "NumEnd": 622,
                  "Literal": "2",
                  "Base": 10
                },
                "Unit": {
                  "Name": "DAY",
                  "QuoteType": 1,
                  "NamePos": 623,
                  "NameEnd": 626
                }
              },
              "HasGlobal": false,
              "HasNot": false
            },
            "Policy": null
          }
        ]
      },
      "Settings": {
        "SettingsPos": 627,
        "ListEnd": 812,
        "Items": [
          {
            "SettingsPos": 636,
            "Name": {
              "Name": "execute_merges_on_single_replica_time_threshold",
              "QuoteType": 1,
              "NamePos": 636,
              "NameEnd": 683
            },
            "Expr": {
              "NumPos": 684,
              "NumEnd": 688,
              "Literal": "1200",
              "Base": 10
            }
          },
          {
            "SettingsPos": 690,
            "Name": {
              "Name": "index_granularity",
              "QuoteType": 1,
              "NamePos": 690,
              "NameEnd": 707
            },
            "Expr": {
              "NumPos": 708,
              "NumEnd": 713,
              "Literal": "16384",
              "Base": 10
            }
          },
          {
            "SettingsPos": 715,
            "Name": {
              "Name": "max_bytes_to_merge_at_max_space_in_pool",
              "QuoteType": 1,
              "NamePos": 715,
              "NameEnd": 754
            },
            "Expr": {
              "NumPos": 755,
              "NumEnd": 766,
              "Literal": "64424509440",
              "Base": 10
            }
          },
          {
            "SettingsPos": 768,
            "Name": {
              "Name": "storage_policy",
              "QuoteType": 1,
              "NamePos": 768,
              "NameEnd": 782
            },
            "Expr": {
              "LiteralPos": 784,
              "LiteralEnd": 788,
              "Literal": "main"
            }
          },
          {
            "SettingsPos": 791,
            "Name": {
              "Name": "ttl_only_drop_parts",
              "QuoteType": 1,
              "NamePos": 791,
              "NameEnd": 810
            },
            "Expr": {
              "NumPos": 811,
              "NumEnd": 812,
              "Literal": "1",
              "Base": 10
            }
          }
        ]
      },
      "OrderBy": {
        "OrderPos": 479,
        "ListEnd": 533,
        "Items": [
          {
            "OrderPos": 479,
            "Expr": {
              "LeftParenPos": 488,
              "RightParenPos": 533,
              "Items": {
                "ListPos": 489,
                "ListEnd": 532,
                "HasDistinct": false,
                "Items": [
                  {
                    "Expr": {
                      "Name": {
                        "Name": "toUnixTimestamp64Nano",
                        "QuoteType": 1,
                        "NamePos": 489,
                        "NameEnd": 510
                      },
                      "Params": {
                        "LeftParenPos": 510,
                        "RightParenPos": 522,
                        "Items": {
                          "ListPos": 512,
                          "ListEnd": 521,
                          "HasDistinct": false,
                          "Items": [
                            {
                              "Expr": {
                                "Name": "timestamp",
                                "QuoteType": 3,
                                "NamePos": 512,
                                "NameEnd": 521
                              },
                              "Alias": null
                            }
                          ]
                        },
                        "ColumnArgList": null
                      }
                    },
                    "Alias": null
                  },
                  {
                    "Expr": {
                      "Name": "api_id",
                      "QuoteType": 3,
                      "NamePos": 526,
                      "NameEnd": 532
                    },
                    "Alias": null
                  }
                ]
              },
              "ColumnArgList": null
            },
            "Alias": null,
            "Direction": ""
          }
        ]
      }
    },
    "SubQuery": null,
    "HasTemporary": false,
    "Comment": null
  }
]
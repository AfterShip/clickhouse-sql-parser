[
  {
    "CreatePos": 0,
    "StatementEnd": 577,
    "Name": {
      "Database": {
        "Name": "infra_bm",
        "QuoteType": 1,
        "NamePos": 25,
        "NameEnd": 33
      },
      "Table": {
        "Name": "view_name",
        "QuoteType": 1,
        "NamePos": 34,
        "NameEnd": 43
      }
    },
    "IfNotExists": false,
    "OnCluster": {
      "OnPos": 49,
      "Expr": {
        "LiteralPos": 61,
        "LiteralEnd": 76,
        "Literal": "default_cluster"
      }
    },
    "Refresh": null,
    "RandomizeFor": null,
    "DependsOn": null,
    "Settings": null,
    "HasAppend": false,
    "Engine": null,
    "HasEmpty": false,
    "Destination": {
      "ToPos": 78,
      "TableIdentifier": {
        "Database": {
          "Name": "infra_bm",
          "QuoteType": 1,
          "NamePos": 81,
          "NameEnd": 89
        },
        "Table": {
          "Name": "table_name",
          "QuoteType": 1,
          "NamePos": 90,
          "NameEnd": 100
        }
      },
      "TableSchema": {
        "SchemaPos": 102,
        "SchemaEnd": 206,
        "Columns": [
          {
            "NamePos": 108,
            "ColumnEnd": 124,
            "Name": {
              "Ident": {
                "Name": "f1",
                "QuoteType": 3,
                "NamePos": 108,
                "NameEnd": 110
              },
              "DotIdent": null
            },
            "Type": {
              "LeftParenPos": 123,
              "RightParenPos": 124,
              "Name": {
                "Name": "DateTime64",
                "QuoteType": 1,
                "NamePos": 112,
                "NameEnd": 122
              },
              "Params": [
                {
                  "NumPos": 123,
                  "NumEnd": 124,
                  "Literal": "3",
                  "Base": 10
                }
              ]
            },
            "NotNull": null,
            "Nullable": null,
            "DefaultExpr": null,
            "MaterializedExpr": null,
            "AliasExpr": null,
            "Codec": null,
            "TTL": null,
            "Comment": null,
            "CompressionCodec": null
          },
          {
            "NamePos": 131,
            "ColumnEnd": 141,
            "Name": {
              "Ident": {
                "Name": "f2",
                "QuoteType": 3,
                "NamePos": 131,
                "NameEnd": 133
              },
              "DotIdent": null
            },
            "Type": {
              "Name": {
                "Name": "String",
                "QuoteType": 1,
                "NamePos": 135,
                "NameEnd": 141
              }
            },
            "NotNull": null,
            "Nullable": null,
            "DefaultExpr": null,
            "MaterializedExpr": null,
            "AliasExpr": null,
            "Codec": null,
            "TTL": null,
            "Comment": null,
            "CompressionCodec": null
          },
          {
            "NamePos": 147,
            "ColumnEnd": 157,
            "Name": {
              "Ident": {
                "Name": "f3",
                "QuoteType": 3,
                "NamePos": 147,
                "NameEnd": 149
              },
              "DotIdent": null
            },
            "Type": {
              "Name": {
                "Name": "String",
                "QuoteType": 1,
                "NamePos": 151,
                "NameEnd": 157
              }
            },
            "NotNull": null,
            "Nullable": null,
            "DefaultExpr": null,
            "MaterializedExpr": null,
            "AliasExpr": null,
            "Codec": null,
            "TTL": null,
            "Comment": null,
            "CompressionCodec": null
          },
          {
            "NamePos": 163,
            "ColumnEnd": 173,
            "Name": {
              "Ident": {
                "Name": "f4",
                "QuoteType": 3,
                "NamePos": 163,
                "NameEnd": 165
              },
              "DotIdent": null
            },
            "Type": {
              "Name": {
                "Name": "String",
                "QuoteType": 1,
                "NamePos": 167,
                "NameEnd": 173
              }
            },
            "NotNull": null,
            "Nullable": null,
            "DefaultExpr": null,
            "MaterializedExpr": null,
            "AliasExpr": null,
            "Codec": null,
            "TTL": null,
            "Comment": null,
            "CompressionCodec": null
          },
          {
            "NamePos": 179,
            "ColumnEnd": 189,
            "Name": {
              "Ident": {
                "Name": "f5",
                "QuoteType": 3,
                "NamePos": 179,
                "NameEnd": 181
              },
              "DotIdent": null
            },
            "Type": {
              "Name": {
                "Name": "String",
                "QuoteType": 1,
                "NamePos": 183,
                "NameEnd": 189
              }
            },
            "NotNull": null,
            "Nullable": null,
            "DefaultExpr": null,
            "MaterializedExpr": null,
            "AliasExpr": null,
            "Codec": null,
            "TTL": null,
            "Comment": null,
            "CompressionCodec": null
          },
          {
            "NamePos": 195,
            "ColumnEnd": 204,
            "Name": {
              "Ident": {
                "Name": "f6",
                "QuoteType": 3,
                "NamePos": 195,
                "NameEnd": 197
              },
              "DotIdent": null
            },
            "Type": {
              "Name": {
                "Name": "Int64",
                "QuoteType": 1,
                "NamePos": 199,
                "NameEnd": 204
              }
            },
            "NotNull": null,
            "Nullable": null,
            "DefaultExpr": null,
            "MaterializedExpr": null,
            "AliasExpr": null,
            "Codec": null,
            "TTL": null,
            "Comment": null,
            "CompressionCodec": null
          }
        ],
        "AliasTable": null,
        "TableFunction": null
      }
    },
    "SubQuery": {
      "HasParen": false,
      "Select": {
        "SelectPos": 212,
        "StatementEnd": 577,
        "With": null,
        "Top": null,
        "HasDistinct": false,
        "DistinctOn": null,
        "SelectItems": [
          {
            "Expr": {
              "Name": "f1",
              "QuoteType": 1,
              "NamePos": 219,
              "NameEnd": 221
            },
            "Modifiers": [],
            "Alias": null
          },
          {
            "Expr": {
              "Name": "f2",
              "QuoteType": 1,
              "NamePos": 231,
              "NameEnd": 233
            },
            "Modifiers": [],
            "Alias": null
          },
          {
            "Expr": {
              "Name": {
                "Name": "visitParamExtractString",
                "QuoteType": 1,
                "NamePos": 243,
                "NameEnd": 266
              },
              "Params": {
                "LeftParenPos": 266,
                "RightParenPos": 283,
                "Items": {
                  "ListPos": 267,
                  "ListEnd": 282,
                  "HasDistinct": false,
                  "Items": [
                    {
                      "Expr": {
                        "Name": "properties",
                        "QuoteType": 1,
                        "NamePos": 267,
                        "NameEnd": 277
                      },
                      "Alias": null
                    },
                    {
                      "Expr": {
                        "LiteralPos": 280,
                        "LiteralEnd": 282,
                        "Literal": "f3"
                      },
                      "Alias": null
                    }
                  ]
                },
                "ColumnArgList": null
              }
            },
            "Modifiers": [],
            "Alias": {
              "Name": "f3",
              "QuoteType": 1,
              "NamePos": 288,
              "NameEnd": 290
            }
          },
          {
            "Expr": {
              "Name": {
                "Name": "visitParamExtractString",
                "QuoteType": 1,
                "NamePos": 300,
                "NameEnd": 323
              },
              "Params": {
                "LeftParenPos": 323,
                "RightParenPos": 340,
                "Items": {
                  "ListPos": 324,
                  "ListEnd": 339,
                  "HasDistinct": false,
                  "Items": [
                    {
                      "Expr": {
                        "Name": "properties",
                        "QuoteType": 1,
                        "NamePos": 324,
                        "NameEnd": 334
                      },
                      "Alias": null
                    },
                    {
                      "Expr": {
                        "LiteralPos": 337,
                        "LiteralEnd": 339,
                        "Literal": "f4"
                      },
                      "Alias": null
                    }
                  ]
                },
                "ColumnArgList": null
              }
            },
            "Modifiers": [],
            "Alias": {
              "Name": "f4",
              "QuoteType": 1,
              "NamePos": 345,
              "NameEnd": 347
            }
          },
          {
            "Expr": {
              "Name": {
                "Name": "visitParamExtractString",
                "QuoteType": 1,
                "NamePos": 357,
                "NameEnd": 380
              },
              "Params": {
                "LeftParenPos": 380,
                "RightParenPos": 397,
                "Items": {
                  "ListPos": 381,
                  "ListEnd": 396,
                  "HasDistinct": false,
                  "Items": [
                    {
                      "Expr": {
                        "Name": "properties",
                        "QuoteType": 1,
                        "NamePos": 381,
                        "NameEnd": 391
                      },
                      "Alias": null
                    },
                    {
                      "Expr": {
                        "LiteralPos": 394,
                        "LiteralEnd": 396,
                        "Literal": "f5"
                      },
                      "Alias": null
                    }
                  ]
                },
                "ColumnArgList": null
              }
            },
            "Modifiers": [],
            "Alias": {
              "Name": "f5",
              "QuoteType": 1,
              "NamePos": 402,
              "NameEnd": 404
            }
          },
          {
            "Expr": {
              "Name": {
                "Name": "visitParamExtractInt",
                "QuoteType": 1,
                "NamePos": 414,
                "NameEnd": 434
              },
              "Params": {
                "LeftParenPos": 434,
                "RightParenPos": 451,
                "Items": {
                  "ListPos": 435,
                  "ListEnd": 450,
                  "HasDistinct": false,
                  "Items": [
                    {
                      "Expr": {
                        "Name": "properties",
                        "QuoteType": 1,
                        "NamePos": 435,
                        "NameEnd": 445
                      },
                      "Alias": null
                    },
                    {
                      "Expr": {
                        "LiteralPos": 448,
                        "LiteralEnd": 450,
                        "Literal": "f6"
                      },
                      "Alias": null
                    }
                  ]
                },
                "ColumnArgList": null
              }
            },
            "Modifiers": [],
            "Alias": {
              "Name": "f6",
              "QuoteType": 1,
              "NamePos": 456,
              "NameEnd": 458
            }
          }
        ],
        "From": {
          "FromPos": 460,
          "Expr": {
            "Table": {
              "TablePos": 465,
              "TableEnd": 485,
              "Alias": null,
              "Expr": {
                "Database": {
                  "Name": "infra_bm",
                  "QuoteType": 1,
                  "NamePos": 465,
                  "NameEnd": 473
                },
                "Table": {
                  "Name": "table_name1",
                  "QuoteType": 1,
                  "NamePos": 474,
                  "NameEnd": 485
                }
              },
              "HasFinal": false
            },
            "StatementEnd": 485,
            "SampleRatio": null,
            "HasFinal": false
          }
        },
        "ArrayJoin": null,
        "Window": null,
        "Prewhere": null,
        "Where": {
          "WherePos": 487,
          "Expr": {
            "LeftExpr": {
              "LeftExpr": {
                "LeftExpr": {
                  "Fields": [
                    {
                      "Name": "infra_bm",
                      "QuoteType": 1,
                      "NamePos": 493,
                      "NameEnd": 501
                    },
                    {
                      "Name": "table_name1",
                      "QuoteType": 1,
                      "NamePos": 502,
                      "NameEnd": 513
                    },
                    {
                      "Name": "event",
                      "QuoteType": 1,
                      "NamePos": 514,
                      "NameEnd": 519
                    }
                  ]
                },
                "Operation": "=",
                "RightExpr": {
                  "LiteralPos": 523,
                  "LiteralEnd": 533,
                  "Literal": "test-event"
                },
                "HasGlobal": false,
                "HasNot": false
              },
              "Operation": "AND",
              "RightExpr": {
                "UnaryPos": 544,
                "Kind": "NOT",
                "Expr": {
                  "Name": {
                    "Name": "isZeroOrNull",
                    "QuoteType": 1,
                    "NamePos": 548,
                    "NameEnd": 560
                  },
                  "Params": {
                    "LeftParenPos": 560,
                    "RightParenPos": 563,
                    "Items": {
                      "ListPos": 561,
                      "ListEnd": 563,
                      "HasDistinct": false,
                      "Items": [
                        {
                          "Expr": {
                            "Name": "f2",
                            "QuoteType": 1,
                            "NamePos": 561,
                            "NameEnd": 563
                          },
                          "Alias": null
                        }
                      ]
                    },
                    "ColumnArgList": null
                  }
                }
              },
              "HasGlobal": false,
              "HasNot": false
            },
            "Operation": "AND",
            "RightExpr": {
              "LeftExpr": {
                "LeftExpr": {
                  "Name": "f6",
                  "QuoteType": 1,
                  "NamePos": 569,
                  "NameEnd": 571
                },
                "Operation": "-",
                "RightExpr": {
                  "NumPos": 572,
                  "NumEnd": 573,
                  "Literal": "2",
                  "Base": 10
                },
                "HasGlobal": false,
                "HasNot": false
              },
              "Operation": "\u003e",
              "RightExpr": {
                "NumPos": 576,
                "NumEnd": 577,
                "Literal": "0",
                "Base": 10
              },
              "HasGlobal": false,
              "HasNot": false
            },
            "HasGlobal": false,
            "HasNot": false
          }
        },
        "GroupBy": null,
        "WithTotal": false,
        "Having": null,
        "OrderBy": null,
        "LimitBy": null,
        "Limit": null,
        "Settings": null,
        "Format": null,
        "UnionAll": null,
        "UnionDistinct": null,
        "Except": null
      }
    },
    "Populate": false,
    "Comment": null,
    "Definer": null,
    "SQLSecurity": ""
  }
]